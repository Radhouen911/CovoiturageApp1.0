{"ast":null,"code":"// api.js\nimport axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8000\",\n  // NOT /api\n  withCredentials: true,\n  xsrfCookieName: \"XSRF-TOKEN\",\n  xsrfHeaderName: \"X-XSRF-TOKEN\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\"\n  }\n});\nclass ApiService {\n  async getCsrfCookie() {\n    return api.get(\"/sanctum/csrf-cookie\");\n  }\n  async login(credentials) {\n    await this.getCsrfCookie();\n    const res = await api.post(\"/login\", credentials);\n    return res.data;\n  }\n  async logout() {\n    return api.post(\"/logout\");\n  }\n  async getMyRides() {\n    const res = await api.get(\"/api/my-rides\");\n    return res.data;\n  }\n  async bookRide(data) {\n    const res = await api.post(\"/api/bookings\", data);\n    return res.data;\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["axios","api","create","baseURL","withCredentials","xsrfCookieName","xsrfHeaderName","headers","Accept","ApiService","getCsrfCookie","get","login","credentials","res","post","data","logout","getMyRides","bookRide"],"sources":["D:/CovoiturageWeb/covfront/src/services/api.js"],"sourcesContent":["// api.js\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8000\", // NOT /api\n  withCredentials: true,\n  xsrfCookieName: \"XSRF-TOKEN\",\n  xsrfHeaderName: \"X-XSRF-TOKEN\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n  },\n});\n\nclass ApiService {\n  async getCsrfCookie() {\n    return api.get(\"/sanctum/csrf-cookie\");\n  }\n\n  async login(credentials) {\n    await this.getCsrfCookie();\n    const res = await api.post(\"/login\", credentials);\n    return res.data;\n  }\n\n  async logout() {\n    return api.post(\"/logout\");\n  }\n\n  async getMyRides() {\n    const res = await api.get(\"/api/my-rides\");\n    return res.data;\n  }\n\n  async bookRide(data) {\n    const res = await api.post(\"/api/bookings\", data);\n    return res.data;\n  }\n}\n\nexport default new ApiService();\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,uBAAuB;EAAE;EAClCC,eAAe,EAAE,IAAI;EACrBC,cAAc,EAAE,YAAY;EAC5BC,cAAc,EAAE,cAAc;EAC9BC,OAAO,EAAE;IACP,cAAc,EAAE,kBAAkB;IAClCC,MAAM,EAAE;EACV;AACF,CAAC,CAAC;AAEF,MAAMC,UAAU,CAAC;EACf,MAAMC,aAAaA,CAAA,EAAG;IACpB,OAAOT,GAAG,CAACU,GAAG,CAAC,sBAAsB,CAAC;EACxC;EAEA,MAAMC,KAAKA,CAACC,WAAW,EAAE;IACvB,MAAM,IAAI,CAACH,aAAa,CAAC,CAAC;IAC1B,MAAMI,GAAG,GAAG,MAAMb,GAAG,CAACc,IAAI,CAAC,QAAQ,EAAEF,WAAW,CAAC;IACjD,OAAOC,GAAG,CAACE,IAAI;EACjB;EAEA,MAAMC,MAAMA,CAAA,EAAG;IACb,OAAOhB,GAAG,CAACc,IAAI,CAAC,SAAS,CAAC;EAC5B;EAEA,MAAMG,UAAUA,CAAA,EAAG;IACjB,MAAMJ,GAAG,GAAG,MAAMb,GAAG,CAACU,GAAG,CAAC,eAAe,CAAC;IAC1C,OAAOG,GAAG,CAACE,IAAI;EACjB;EAEA,MAAMG,QAAQA,CAACH,IAAI,EAAE;IACnB,MAAMF,GAAG,GAAG,MAAMb,GAAG,CAACc,IAAI,CAAC,eAAe,EAAEC,IAAI,CAAC;IACjD,OAAOF,GAAG,CAACE,IAAI;EACjB;AACF;AAEA,eAAe,IAAIP,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}