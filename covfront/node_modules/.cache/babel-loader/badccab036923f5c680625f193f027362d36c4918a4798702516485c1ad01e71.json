{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8000\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\"\n  }\n});\n\n// Add request interceptor for logging\napi.interceptors.request.use(config => {\n  console.log(\"API Request:\", {\n    url: config.url,\n    method: config.method,\n    headers: config.headers,\n    data: config.data\n  });\n  return config;\n}, error => {\n  console.error(\"API Request Error:\", error);\n  return Promise.reject(error);\n});\n\n// Add response interceptor for logging\napi.interceptors.response.use(response => {\n  console.log(\"API Response:\", {\n    url: response.config.url,\n    status: response.status,\n    data: response.data\n  });\n  return response;\n}, error => {\n  var _error$config, _error$response, _error$response2;\n  console.error(\"API Response Error:\", {\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data,\n    message: error.message\n  });\n  return Promise.reject(error);\n});\nclass ApiService {\n  async login(credentials) {\n    console.log(\"Attempting login with credentials:\", credentials);\n    try {\n      const response = await api.post(\"/login\", credentials);\n      if (response.data.token) {\n        console.log(\"Token received:\", response.data.token);\n        localStorage.setItem(\"token\", response.data.token);\n        api.defaults.headers.common[\"Authorization\"] = `Bearer ${response.data.token}`;\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response3;\n      console.error(\"Login failed:\", ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message);\n      throw error;\n    }\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["axios","api","create","baseURL","headers","Accept","interceptors","request","use","config","console","log","url","method","data","error","Promise","reject","response","status","_error$config","_error$response","_error$response2","message","ApiService","login","credentials","post","token","localStorage","setItem","defaults","common","_error$response3"],"sources":["D:/CovoiturageWeb/covfront/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8000\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n  },\n});\n\n// Add request interceptor for logging\napi.interceptors.request.use(\n  (config) => {\n    console.log(\"API Request:\", {\n      url: config.url,\n      method: config.method,\n      headers: config.headers,\n      data: config.data,\n    });\n    return config;\n  },\n  (error) => {\n    console.error(\"API Request Error:\", error);\n    return Promise.reject(error);\n  }\n);\n\n// Add response interceptor for logging\napi.interceptors.response.use(\n  (response) => {\n    console.log(\"API Response:\", {\n      url: response.config.url,\n      status: response.status,\n      data: response.data,\n    });\n    return response;\n  },\n  (error) => {\n    console.error(\"API Response Error:\", {\n      url: error.config?.url,\n      status: error.response?.status,\n      data: error.response?.data,\n      message: error.message,\n    });\n    return Promise.reject(error);\n  }\n);\n\nclass ApiService {\n  async login(credentials) {\n    console.log(\"Attempting login with credentials:\", credentials);\n    try {\n      const response = await api.post(\"/login\", credentials);\n      if (response.data.token) {\n        console.log(\"Token received:\", response.data.token);\n        localStorage.setItem(\"token\", response.data.token);\n        api.defaults.headers.common[\n          \"Authorization\"\n        ] = `Bearer ${response.data.token}`;\n      }\n      return response.data;\n    } catch (error) {\n      console.error(\"Login failed:\", error.response?.data || error.message);\n      throw error;\n    }\n  }\n}\n\nexport default new ApiService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}